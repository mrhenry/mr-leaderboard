<h1><%= @leaderboard.title %></h1>

<h2>Leaderboard users</h2>
<% unless @leaderboard.users.empty? %>
  
  <ul class="users">
    <% @leaderboard.users.each do |user| %>
      <li><%= user.login %></li>
    <% end %>
  </ul>
  
<% else %>
  There are no user in this leaderboard.
<% end %>

<h2>Played games</h2>
<% unless @leaderboard.games.empty? %>
  
  <ul class="games">
    <% @leaderboard.games.each do |game| %>
      <li>
        <%= game.created_at %>
        <% unless game.scores.empty? %>
          <%= User.find(game.scores[0].user_id).login %> [<%= game.scores[0].score %>] -
          [<%= game.scores[1].score %>] <%= User.find(game.scores[1].user_id).login %>
        <% else %>
          No scores added
        <% end %>
      </li>
    <% end %>
  </ul>
<% else %>
  No games added yet.
<% end %>

<% if current_user and !@leaderboard.users.empty? %>
  <p><%= link_to "Add game", new_leaderboard_game_url(params[:id]) %></p>
<% end %>

<%= link_to "Back to leaderboard overview", leaderboards_url %>